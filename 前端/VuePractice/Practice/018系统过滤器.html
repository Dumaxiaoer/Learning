<!-- 18 过滤器 -->
<!-- 
    1.用于双括号插值和v-bind表达器中
    2.在某个对象内部定义的过滤器为私有过滤器，在当前对象有用
    3.公有过滤器在全局都能使用
-->

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>

</head>

<body>
    <div id="vm">
        {{list}}
        <hr>
        <p>{{time | datefmt}}</p>
    </div>
    <div id="app">
        <hr>
        <p>{{time | datefmt('yyyy-MM-dd')}}</p>


    </div>


</body>
<script>
    Vue.filter('datefmt', function (input, formatString) {
        //将input的值格式化
        var res = "";
        var year = input.getFullYear();
        var month = input.getMonth();
        var day = input.getDate();
        if (formatString == 'yyyy-MM-dd') {
            res = year + "-" + month + "-" + day;
        } else {
            res = year + "-" + month + "-" + day + "-222";
        }

        return res;
    })

    new Vue({
        el: '#vm',
        data: {
            list: [{
                uname: 'yangcc'
            }, {
                uname: 'ccyang'
            }],
            time: new Date(),

        },
        filters: {
            // input是自定义过滤器默认参数，永远都取值于|左边
            datefmt: function (input) {
                //将input的值格式化
                var res = "";
                var year = input.getFullYear();
                var month = input.getMonth();
                var day = input.getDate();
                res = year + "-" + month + "-" + day;
                return res;
            }
        }
    })

    new Vue({
        el: '#app',
        data: {
            time: new Date()
        }


    })
</script>

</html>